<!DOCTYPE html>

<html lang="en-US">
<head>
<title> Reset Password | Colēgia </title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="https://cdn.colegia.org/assets/Colēgia-a86da930049efba5860dd06ef1468f8901773b6672452f3b71e67a495001df1b.png" property="og:image"/>
<meta content="Reset Password | Colēgia" property="og:title"/>
<meta content="https://www.colegia.org/forgot_password?type=student_teacher" property="og:url"/>
<meta content="website" property="og:type"/>
<meta content="Colēgia" property="og:site_name"/>
<meta content="summary" name="twitter:card"/>
<meta content="Reset Password | Colēgia" name="twitter:title"/>
<meta content="app-id=1573922263" name="apple-itunes-app"/>
<meta content="authenticity_token" name="csrf-param">
<meta content="2fog3aU4Fe47LLLuR7hbA/4LjMEUTlFXe56gd/4cGyfi3lQ3YCBXojkZZ4ighu4MJlBGdBEDmPvuma4P07jSMA==" name="csrf-token">
<link href="https://cdn.colegia.org/assets/Colēgia-b74db530718734ea7d6af559ff8ceb0dae516b77585d8abd11a3d14800791b60.ico" rel="shortcut icon"/>
<link href="../css/css.css" rel="stylesheet"/>
<link href="../css/css.css" rel="stylesheet"/>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-159165736-1', 'auto');
    ga('set', 'userId', ''); // Colegia ID
    ga('set', 'dimension1', ''); // CoelgiaID Type(user title in our case)
    ga('set', 'dimension2', ''); // County(county name)
    ga('set', 'dimension3', ''); // District(district id)
    ga('set', 'dimension4', ''); // School(user ou in our case)
    ga('set', 'dimension5', '2.0'); // Version (2.0 for Colegia 2.0)
  ga('send', 'pageview');
</script>
<link data-turbolinks-track="reload" href="../css/forgot_password-316c21db1f88bcf200923ad17f41d43fa9613ca2fa131078b674c9297cd358be.css" media="all" rel="stylesheet">
<script data-turbolinks-track="reload" src="../js/application-78305d798dd00fcd1857db1c67575e6c4e3212259e3c84a0fbd517fe5b22421e.js"></script>
</link></meta></meta></head>
<body>
<div class="page_wrapper">
<div class="page_container">
<header class="header_wrapper security_forgot_password">
<div class="header_container">
<div class="the_mask" onclick="hide_menu('the_responsive_menu')"></div>
<span class="icon_menu" onclick="show_menu('the_responsive_menu')"></span>
<div class="header_logo_container">
<a href=".html">
<img height="40" src="../images/colegia_optimized-9c5962e4e6bc6fc449be0d0fcbf9d1f2dfd27bd06d0c09d04f451064a6ec665b.png"/>
</a> </div>
<div class="header_right_section" id="the_responsive_menu">
<span class="icon_menu" onclick="hide_menu('the_responsive_menu')"></span>
<ul class="nav_ul">
<li class="nav_li">
<a href="about.html">About</a>
</li>
<li class="nav_li">
<a href="contact.html">Contact</a>
</li>
<li class="nav_li">
<a href="lookup.html">ColēgiaID</a>
</li>
</ul>
<a class="signin_button highlight_button" href="login.html">Student / Staff Log In</a>
<a class="parent_signin_button" href="login.html">Parent/Guardian Log In</a>
</div>
</div>
</header>
<script>
  function show_menu(id){
    $('.the_mask').show();
    $('#' + id).addClass('show');
  }
  function hide_menu(id){
    $('#' + id).removeClass('show');
    $('.the_mask').hide();
  }
</script>
<div class="content_wrapper">
<div class="content_container">
<div class="security_wrapper">
<div class="security_container fyp" id="fyp_container" style="display: inline-block;">
<div class="the_icon"></div>
<p class="title">Forgot Your Password?</p>
<p class="sub_title">First, let's find your account</p>
<form accept-charset="UTF-8" action="/user_security_questions" data-remote="true" id="forgot_pass_form" method="post"><input name="utf8" type="hidden" value="✓"/>
<div class="pinput_wrapper">
<div class="pinput_container">
<input autocomplete="off" id="email" name="email" placeholder="Enter your email" required="required" spellcheck="false" type="email" value=""/>
</div>
</div>
<p class="s_error" id="s_error1">Email not found.</p>
<button class="submit_button" name="button" onclick="validate_fp_form()" type="button">Next</button>
<script async="" defer="" src="../js/api.js"></script>
<div class="g-recaptcha" data-callback="submit_fp_form" data-sitekey="6Lf6OswUAAAAAAWpbfzznu4ZTExtwGR5UUwa7iVh" data-size="invisible"></div>
</form> </div>
<div class="user_question_wrapper" id="user_question_wrapper_id">
<div class="security_container sque" id="security_que_container">
<div class="the_icon"></div>
<p class="title">Security Questions</p>
<p class="sub_title">Answer the security questions below to reset your password.</p>
<form accept-charset="UTF-8" action="/verify_security_answers" data-remote="true" id="security_questions_form" method="post"><input name="utf8" type="hidden" value="✓"/>
<input autocomplete="off" id="q_id1" name="q_id1" type="hidden"/>
<input autocomplete="off" id="q_id2" name="q_id2" type="hidden"/>
<input autocomplete="off" id="user_uuid" name="user_uuid" type="hidden" value=""/>
<input autocomplete="off" id="attempt" name="attempt" type="hidden"/>
<div class="pinput_wrapper">
<div class="pinput_container">
<p class="label">Question 1</p>
<p class="the_question" id="question1"></p>
</div>
<div class="pinput_container">
<input autocomplete="off" id="que1_ans" name="que1_ans" placeholder="Enter your answer" required="required" spellcheck="false" type="text" value=""/>
</div>
</div>
<div class="pinput_wrapper">
<div class="pinput_container">
<p class="label">Question 2</p>
<p class="the_question" id="question2"></p>
</div>
<div class="pinput_container">
<input autocomplete="off" id="que2_ans" name="que2_ans" placeholder="Enter your answer" required="required" spellcheck="false" type="text" value=""/>
</div>
</div>
<p class="s_error" id="s_error2">Your answers do not match our records. Try again.</p>
<button class="submit_button" name="button" type="submit">Next</button>
</form></div>
</div>
<div class="security_container resetp" id="reset_password_container">
<div class="the_icon"></div>
<p class="title">Reset Password</p>
<p class="sub_title">It's a good idea to use a strong password that you're not using elsewhere. <br/>Keep your password in a safe place.</p>
<form accept-charset="UTF-8" action="/update_password?parent_controller=password&amp;user_uuid=" data-remote="true" id="update_pwd" method="post"><input name="utf8" type="hidden" value="✓"/>
<div class="pinput_wrapper">
<input autocomplete="off" id="key" name="key" type="hidden"/>
<div class="pinput_container">
<p class="label">New Password</p>
<input autocomplete="off" id="new_password" minlength="6" name="new_password" oninput="validate_new_password(this.id);validate_confirm_password('confirm_password', this.id)" pattern="^(?! *$).+" required="required" spellcheck="false" title="Required field and input cannot be only blank spaces" type="password" value=""/>
<span class="icn_visible hidden" onclick="show_password(this)"></span>
<p class="p_error"></p>
</div>
<div class="pw_guideline_wrapper">
<div class="title">Password Guidelines</div>
<div class="pw_guideline_container">
<p class="guideline minimum8">
<svg height="14" viewbox="0 0 19 14" width="19" xmlns="http://www.w3.org/2000/svg">
<path d="M6.88 13.008a.498.498 0 0 1-.286-.136l-5.58-5.39a.5.5 0 0 1-.006-.714l.612-.612a.5.5 0 0 1 .7-.006l4.795 4.631L16.412.291A.5.5 0 0 1 17.14.27l.763.763a.5.5 0 0 1 .02.685L7.783 13.161a.5.5 0 0 1-.728.022l-.175-.175z" fill-rule="evenodd"></path>
</svg>
<span>Minimum 8 characters</span>
</p>
<p class="guideline lowercase">
<svg height="14" viewbox="0 0 19 14" width="19" xmlns="http://www.w3.org/2000/svg">
<path d="M6.88 13.008a.498.498 0 0 1-.286-.136l-5.58-5.39a.5.5 0 0 1-.006-.714l.612-.612a.5.5 0 0 1 .7-.006l4.795 4.631L16.412.291A.5.5 0 0 1 17.14.27l.763.763a.5.5 0 0 1 .02.685L7.783 13.161a.5.5 0 0 1-.728.022l-.175-.175z" fill-rule="evenodd"></path>
</svg>
<span>Lower case</span>
</p>
<p class="guideline uppercase">
<svg height="14" viewbox="0 0 19 14" width="19" xmlns="http://www.w3.org/2000/svg">
<path d="M6.88 13.008a.498.498 0 0 1-.286-.136l-5.58-5.39a.5.5 0 0 1-.006-.714l.612-.612a.5.5 0 0 1 .7-.006l4.795 4.631L16.412.291A.5.5 0 0 1 17.14.27l.763.763a.5.5 0 0 1 .02.685L7.783 13.161a.5.5 0 0 1-.728.022l-.175-.175z" fill-rule="evenodd"></path>
</svg>
<span>Upper case</span>
</p>
<p class="guideline number">
<svg height="14" viewbox="0 0 19 14" width="19" xmlns="http://www.w3.org/2000/svg">
<path d="M6.88 13.008a.498.498 0 0 1-.286-.136l-5.58-5.39a.5.5 0 0 1-.006-.714l.612-.612a.5.5 0 0 1 .7-.006l4.795 4.631L16.412.291A.5.5 0 0 1 17.14.27l.763.763a.5.5 0 0 1 .02.685L7.783 13.161a.5.5 0 0 1-.728.022l-.175-.175z" fill-rule="evenodd"></path>
</svg>
<span>Number</span>
</p>
<p class="guideline specialchar">
<svg height="14" viewbox="0 0 19 14" width="19" xmlns="http://www.w3.org/2000/svg">
<path d="M6.88 13.008a.498.498 0 0 1-.286-.136l-5.58-5.39a.5.5 0 0 1-.006-.714l.612-.612a.5.5 0 0 1 .7-.006l4.795 4.631L16.412.291A.5.5 0 0 1 17.14.27l.763.763a.5.5 0 0 1 .02.685L7.783 13.161a.5.5 0 0 1-.728.022l-.175-.175z" fill-rule="evenodd"></path>
</svg>
<span>Special Character</span>
</p>
</div>
</div>
</div>
<div class="pinput_wrapper">
<span class="input_status"></span>
<div class="pinput_container">
<p class="label">Re-type New Password</p>
<input autocomplete="off" id="confirm_password" minlength="6" name="confirm_password" oninput="validate_confirm_password(this.id, 'new_password')" pattern="^(?! *$).+" required="required" spellcheck="false" title="Required field and input cannot be only blank spaces" type="password" value=""/>
<span class="icn_visible hidden" onclick="show_password(this)"></span>
<p class="p_error">Passwords do not match</p>
</div>
</div>
<p class="s_error" id="s_error3">Your password could not be saved. Try again Later.</p>
<p class="s_error" id="s_error_guide_line">The password does not meet the password policy requirements.</p>
<p class="s_error" id="new_pwd_same_as_old_pwd">Your new password cannot be the same as your current password.</p>
<p class="s_error" id="incorrect_pwd">Incorrect Password. Try again.</p>
<button class="submit_button" name="button" onclick="return validate_password_form()" type="submit">Submit</button>
</form>
<script>
  // set password form validations
  function validate_current_password(id){
    var inputEl = $('#' + id);
    var ival = inputEl.val();
    if (ival.length >= 1){
      inputEl.closest('.pinput_container').find('.p_error').hide();
    }
  }
  function validate_new_password(id){
    var inputEl = $('#' + id);
    var ival = inputEl.val();
    var lcasereg = /(?=.*[a-z])/;
    var ucasereg = /(?=.*[A-Z])/;
    var numreg = /(?=.*[0-9])/;
    // var scharreg = /(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~`])/; //all 32 characters
		var scharreg = /(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.\/?~`])/; //all 30 characters
    var count = 0;
    var maxCount = inputEl.closest('.pinput_wrapper').find('.guideline').length;
			if (ival.length >= 8){
				inputEl.closest('.pinput_wrapper').find('.guideline.minimum8').addClass('active');
				count = count + 1;
			}else {
				inputEl.closest('.pinput_wrapper').find('.guideline.minimum8').removeClass('active');
			}
      if (lcasereg.test(ival)){
        inputEl.closest('.pinput_wrapper').find('.guideline.lowercase').addClass('active');
        count = count + 1;
      }else {
        inputEl.closest('.pinput_wrapper').find('.guideline.lowercase').removeClass('active');
      }
      if (ucasereg.test(ival)){
        inputEl.closest('.pinput_wrapper').find('.guideline.uppercase').addClass('active');
        count = count + 1;
      }else {
        inputEl.closest('.pinput_wrapper').find('.guideline.uppercase').removeClass('active');
      }
      if (numreg.test(ival)){
        inputEl.closest('.pinput_wrapper').find('.guideline.number').addClass('active');
        count = count + 1;
      }else {
        inputEl.closest('.pinput_wrapper').find('.guideline.number').removeClass('active');
      }
      if (scharreg.test(ival)){
        inputEl.closest('.pinput_wrapper').find('.guideline.specialchar').addClass('active');
        count = count + 1;
      }else {
        inputEl.closest('.pinput_wrapper').find('.guideline.specialchar').removeClass('active');
      }
    if (count==maxCount){
      inputEl.closest('.pinput_container').find('.p_error').hide();
    }
  }
  function validate_confirm_password(id, pid){
    var inputEl = $('#' + id);
    var ival = inputEl.val();
    if ((ival.length >= 6) && (ival == $('#' + pid).val())){
      inputEl.closest('.pinput_wrapper').find('.input_status').addClass('active');
      inputEl.closest('.pinput_container').find('.p_error').hide();
    }else {
      inputEl.closest('.pinput_wrapper').find('.input_status').removeClass('active');
    }
  }
  function validate_password_form(){
    var newP = $('#new_password');
    var confirmP = $('#confirm_password');
    var noerror = true;
    var guidelines = newP.closest('.pinput_wrapper').find('.guideline');
    var gflag = 0;
    var gcount = guidelines.length;
    for (var i=0; i<gcount; i++) {
      if (guidelines.eq(i).hasClass('active')){
        gflag = gflag + 1;
      }
    }
    if (gflag == gcount) {
      newP.closest('.pinput_container').find('.p_error').hide();
    }else {
      newP.closest('.pinput_container').find('.p_error').html('Password guidelines not met');
      newP.closest('.pinput_container').find('.p_error').show();
      noerror = false;
    }
    if (confirmP.val() != newP.val()){
      confirmP.closest('.pinput_container').find('.p_error').show();
      noerror = false;
    }else {
      confirmP.closest('.pinput_container').find('.p_error').hide();
    }
    return noerror;
  }
</script>
</div>
<div class="security_container success" id="s_success_container">
<div class="the_icon success"></div>
<p class="title">Password Reset Successful</p>
<p class="sub_title">Sign into Colēgia with your new password.</p>
<a class="submit_button" href="login.html">Sign In</a>
</div>
<div class="security_error" id="security_error_id">
<div class="security_container failure" id="s_failure_container">
<div class="the_icon failure"></div>
<p class="title" id="failure_title"></p>
<p class="sub_title" id="failure_msg">
</p>
</div>
</div>
</div>
</div>
</div>
<script>
  $(window).load(function() {
    set_wrapper_responsive('');
  });
  $('#forgot_pass_form').on('keydown', function(e) {
      if (e.keyCode === 13) {
          e.preventDefault();
          validate_fp_form();
      }
  });
  function validate_fp_form(){
      if ($('#forgot_pass_form')[0].checkValidity()) {
            grecaptcha.execute();
      } else {
          return false;
      }
  }
  function submit_fp_form(){
      $('#forgot_pass_form').submit()
  }
</script>
<footer class="footer_wrapper prelogin">
<div class="footer_container">
<div class="footer_content_container">
<div class="footer_content">
<p class="content">Helping learning communities connect, cooperate and collaborate.</p>
</div>
<div class="follow_us_instagram">
<span>Follow us on Instagram</span>
<a class="follow_link" href="teamcolegia.html" target="_blank">@teamcolegia</a>
</div>
<a class="learn_more" href="about.html">Learn More</a>
<p class="footer_bottom">
        © 2025 Colēgia | All rights reserved. | <a href="terms.html">Terms of Service</a> | <a href="privacy.html">Privacy Policy</a>
</p>
</div>
</div>
</footer>
</div>
</div>
</body>
<script async="" crossorigin="anonymous" defer="" src="../js/platform.js"></script>
<script src="../js/appleid.auth.js" type="text/javascript"></script>
<script>
  function google_login() {
    google_init('signin')
  }
  function google_signup() {
    google_init()
  }
  function google_init(action) {
    var path = action == undefined ? 'signup' : 'signin';
    gapi.load('auth2', function() {
      gapi.auth2.authorize({
        client_id: '755247466062-s9jchtpia1p3b1bdcdggl3r1qs7b5kaq.apps.googleusercontent.com',
        cookie_policy: 'single_host_origin',
        scope: 'email profile',
        response_type: 'code'
      }, function(response) {
        if (response && !response.error) {
          let url = '/auth/google_oauth2/callback?perform=' + path + '&report_parent_uuid=&report_student_uuid=';
          // google authentication succeed, now post data to server.
          jQuery.ajax({
            type: 'GET',
            url: url,
            dataType: 'script',
            data: response,
            success: function(data) {}
          });
        } else {
          console.log(response)
        }
      });
    });
  }
  var apple_signin_popup;
  function apple_signin() {
      let url = 'https://appleid.apple.com/auth/authorize?client_id=org.colegia.signin&redirect_uri=https://colegia.org/auth/apple/callback&response_type=code id_token&state=origin:web&scope=name email&response_mode=web_message';
      apple_signin_popup=window.open(url,'apple_signin','height=660,width=600');
      if (window.focus) {apple_signin_popup.focus()}
      return false;
  }
  AppleID.auth.init({
      clientId : 'org.colegia.signin %>',
      scope : 'name email',
      redirectURI : 'https://colegia.org/auth/apple/callback',
      state : 'origin:web',
      usePopup : true
  });
  document.addEventListener('AppleIDSignInOnSuccess', (event) => {
      apple_signin_popup.close()
      let auth_info = event.detail.authorization;
      auth_info.user = JSON.stringify(event.detail.user);
      var path = 'signup';
      let url = '/auth/apple/callback?perform=' + path + '&report_parent_uuid=&report_student_uuid=';
      if (event.detail) {
          $.ajax({
              type: 'POST',
              url: url,
              data: auth_info,
              success: function(data) {}
          });
      } else {
          console.log(error, event)
      }
  });
  // Listen for authorization failures.
  document.addEventListener('AppleIDSignInOnFailure', (event) => {
      console.log('signin_failure', event.detail.error);
  });
</script>
</html>
