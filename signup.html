<!DOCTYPE html>

<html lang="en-US">
<head>
<title> Parent/Guardian Sign Up | Colēgia </title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="https://cdn.colegia.org/assets/Colēgia-a86da930049efba5860dd06ef1468f8901773b6672452f3b71e67a495001df1b.png" property="og:image"/>
<meta content="Parent/Guardian Sign Up | Colēgia" property="og:title"/>
<meta content="https://www.colegia.org/signup" property="og:url"/>
<meta content="website" property="og:type"/>
<meta content="Colēgia" property="og:site_name"/>
<meta content="summary" name="twitter:card"/>
<meta content="Parent/Guardian Sign Up | Colēgia" name="twitter:title"/>
<meta content="app-id=1573922263" name="apple-itunes-app"/>
<meta content="authenticity_token" name="csrf-param">
<meta content="3I2A8tVGWyOO1M3Z2a9J80h0rYidg8njBQ/GZyCz96u3rOgqRGwIEak2a43hdGK6Y/UvymsvyhYmBkfTwIacCA==" name="csrf-token">
<link href="https://cdn.colegia.org/assets/Colēgia-b74db530718734ea7d6af559ff8ceb0dae516b77585d8abd11a3d14800791b60.ico" rel="shortcut icon"/>
<link href="../css/css.css" rel="stylesheet"/>
<link href="../css/css.css" rel="stylesheet"/>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-159165736-1', 'auto');
    ga('set', 'userId', ''); // Colegia ID
    ga('set', 'dimension1', ''); // CoelgiaID Type(user title in our case)
    ga('set', 'dimension2', ''); // County(county name)
    ga('set', 'dimension3', ''); // District(district id)
    ga('set', 'dimension4', ''); // School(user ou in our case)
    ga('set', 'dimension5', '2.0'); // Version (2.0 for Colegia 2.0)
  ga('send', 'pageview');
</script>
<link data-turbolinks-track="reload" href="../css/new-754cd0839cc5504cc46df2316a22a4218390205dc2647359a8d727ac34ed838e.css" media="all" rel="stylesheet">
<script data-turbolinks-track="reload" src="../js/application-78305d798dd00fcd1857db1c67575e6c4e3212259e3c84a0fbd517fe5b22421e.js"></script>
</link></meta></meta></head>
<body>
<div class="page_wrapper">
<div class="page_container">
<header class="header_wrapper signup_new">
<div class="header_container">
<div class="the_mask" onclick="hide_menu('the_responsive_menu')"></div>
<span class="icon_menu" onclick="show_menu('the_responsive_menu')"></span>
<div class="header_logo_container">
<a href=".html">
<img height="40" src="../images/colegia_optimized-9c5962e4e6bc6fc449be0d0fcbf9d1f2dfd27bd06d0c09d04f451064a6ec665b.png"/>
</a> </div>
<div class="header_right_section" id="the_responsive_menu">
<span class="icon_menu" onclick="hide_menu('the_responsive_menu')"></span>
<ul class="nav_ul">
<li class="nav_li">
<a href="about.html">About</a>
</li>
<li class="nav_li">
<a href="contact.html">Contact</a>
</li>
<li class="nav_li">
<a href="lookup.html">ColēgiaID</a>
</li>
</ul>
<a class="signin_button" href="login.html">Student / Staff Log In</a>
<a class="parent_signin_button highlight_button" href="login.html">Parent/Guardian Log In</a>
</div>
</div>
</header>
<script>
  function show_menu(id){
    $('.the_mask').show();
    $('#' + id).addClass('show');
  }
  function hide_menu(id){
    $('#' + id).removeClass('show');
    $('.the_mask').hide();
  }
</script>
<div class="content_wrapper sign_up">
<div class="content_container">
<div class="login_wrapper">
<div class="login_container">
<div class="login_content">
<p class="title">Parent/Guardian Sign Up
            <br/>
<br/>
</p>
<p class="description">With a Colēgia account you can link students to track their progress, connect with
            school staff and more!</p>
</div>
<div class="login_form_wrapper">
<form accept-charset="UTF-8" action="/signup" id="parent_signup_form" method="post"><input name="utf8" type="hidden" value="✓"/><input name="authenticity_token" type="hidden" value="CcS4FG+U3Wd18NcKOGqvLpq6JZcz07hNy6WrLefEQQJi5dDM/r6OVVIScV4AsYRnsTun1cV/u7jorCqZB/EqoQ=="/>
<div class="login_form_container">
<div class="input_wrapper">
<div class="input_container">
<input autocomplete="off" autofocus="autofocus" id="user_first_name" maxlength="255" name="user[first_name]" placeholder="First Name" size="255" spellcheck="false" type="text" value=""/>
<span class="icn_alert" style="display: none"></span>
<p class="p_error">First name Can't be blank.</p>
</div>
<div class="input_container">
<input autocomplete="off" id="user_last_name" maxlength="255" name="user[last_name]" placeholder="Last Name" size="255" spellcheck="false" type="text" value=""/>
<span class="icn_alert" style="display: none"></span>
<p class="p_error">Last name Can't be blank.</p>
</div>
<div class="input_container">
<input autocomplete="off" class="mobile_code" id="user_mobile_code" maxlength="3" name="user[mobile_code]" placeholder="+" size="3" spellcheck="false" type="tel" value="+1"/>
<input autocomplete="off" class="mobile_number" id="user_mobile_number" maxlength="14" name="user[mobile_number]" placeholder="Mobile Number" size="14" spellcheck="false" type="tel" value=""/>
<span class="icn_alert" style="display: none"></span>
<p class="p_error">Please enter a valid phone number.</p>
</div>
<div class="input_container">
<input autocomplete="off" id="user_email" maxlength="255" name="user[email]" pattern="^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$" placeholder="Email Address" required="required" size="255" spellcheck="false" title="Please enter a valid email" type="email" value=""/>
<span class="icn_alert" style="display: none"></span>
<p class="p_error">Email Can't be blank.</p>
</div>
<div class="pinput_wrapper no_margin_top">
<div class="input_container pinput_container">
<input autocomplete="off" id="user_password" name="user[password]" oninput="validate_new_password(this.id);validate_confirm_password('user_password_confirmation', this.id);" pattern="^(?! *$).+" placeholder="Password" required="required" type="password"/>
<span class="icn_visible hidden" onclick="show_password(this)"></span>
<span class="icn_alert" style="display: none"></span>
<p class="p_error">Password doesn’t meet the security requirements.</p>
</div>
<div class="input_container pinput_container confirm_password">
<span class="input_status"></span>
<input autocomplete="off" id="user_password_confirmation" name="user[password_confirmation]" oninput="validate_confirm_password(this.id, 'user_password')" pattern="^(?! *$).+" placeholder="Confirm Password" required="required" type="password"/>
<span class="icn_alert" style="display: none"></span>
<p class="p_error">Passwords don’t match. Please, try again.</p>
</div>
<div class="signup_guidelines">
<div class="set_password_wrapper">
<div class="set_password_container">
<div class="pform_wrapper">
<div class="pinput_wrapper no_margin_top">
<div class="pw_guideline_wrapper">
<div class="pw_guideline_container">
<p class="guideline minimum8">
<svg height="12" viewbox="0 0 19 14" width="12" xmlns="http://www.w3.org/2000/svg">
<path d="M6.88 13.008a.498.498 0 0 1-.286-.136l-5.58-5.39a.5.5 0 0 1-.006-.714l.612-.612a.5.5 0 0 1 .7-.006l4.795 4.631L16.412.291A.5.5 0 0 1 17.14.27l.763.763a.5.5 0 0 1 .02.685L7.783 13.161a.5.5 0 0 1-.728.022l-.175-.175z" fill-rule="evenodd"></path>
</svg>
<span>Minimum 8 characters</span>
</p>
<p class="guideline lowercase">
<svg height="12" viewbox="0 0 19 14" width="12" xmlns="http://www.w3.org/2000/svg">
<path d="M6.88 13.008a.498.498 0 0 1-.286-.136l-5.58-5.39a.5.5 0 0 1-.006-.714l.612-.612a.5.5 0 0 1 .7-.006l4.795 4.631L16.412.291A.5.5 0 0 1 17.14.27l.763.763a.5.5 0 0 1 .02.685L7.783 13.161a.5.5 0 0 1-.728.022l-.175-.175z" fill-rule="evenodd"></path>
</svg>
<span>Lower case</span>
</p>
<p class="guideline uppercase">
<svg height="12" viewbox="0 0 19 14" width="12" xmlns="http://www.w3.org/2000/svg">
<path d="M6.88 13.008a.498.498 0 0 1-.286-.136l-5.58-5.39a.5.5 0 0 1-.006-.714l.612-.612a.5.5 0 0 1 .7-.006l4.795 4.631L16.412.291A.5.5 0 0 1 17.14.27l.763.763a.5.5 0 0 1 .02.685L7.783 13.161a.5.5 0 0 1-.728.022l-.175-.175z" fill-rule="evenodd"></path>
</svg>
<span>Upper case</span>
</p>
<p class="guideline number">
<svg height="12" viewbox="0 0 19 14" width="12" xmlns="http://www.w3.org/2000/svg">
<path d="M6.88 13.008a.498.498 0 0 1-.286-.136l-5.58-5.39a.5.5 0 0 1-.006-.714l.612-.612a.5.5 0 0 1 .7-.006l4.795 4.631L16.412.291A.5.5 0 0 1 17.14.27l.763.763a.5.5 0 0 1 .02.685L7.783 13.161a.5.5 0 0 1-.728.022l-.175-.175z" fill-rule="evenodd"></path>
</svg>
<span>Number</span>
</p>
<p class="guideline specialchar">
<svg height="12" viewbox="0 0 19 14" width="12" xmlns="http://www.w3.org/2000/svg">
<path d="M6.88 13.008a.498.498 0 0 1-.286-.136l-5.58-5.39a.5.5 0 0 1-.006-.714l.612-.612a.5.5 0 0 1 .7-.006l4.795 4.631L16.412.291A.5.5 0 0 1 17.14.27l.763.763a.5.5 0 0 1 .02.685L7.783 13.161a.5.5 0 0 1-.728.022l-.175-.175z" fill-rule="evenodd"></path>
</svg>
<span>Special Character</span>
</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="links_container">
<a href="login.html">Already have an account? <u>Log in</u></a>
</div>
</div>
<div class="line_container">
<div class="line left"></div>
<span>OR</span>
<div class="line right"></div>
</div>
<div class="sso_wrapper">
<div class="sso_container">
<div class="sso_box" onclick="google_signup()">
<img height="40" src="../images/google-593d90e9c82d7059199e8bd377b916224bc294dbf4924afbca92062f01cc3605.svg" width="40"/>
</div>
<div class="sso_box" onclick="apple_signin()">
<img height="43" src="../images/apple-80058aacc84f9e4d41bfff2f07791b8243a9e49a78515749dad528853f204d51.png" width="40"/>
</div>
</div>
</div>
</div>
<div class="button_wrapper">
<div class="button_container">
<button class="primary_button" name="button" onclick="validate_form()" type="button">Continue</button>
<script async="" defer="" src="../js/api.js"></script>
<div class="g-recaptcha" data-callback="submit_parent_form" data-sitekey="6Lf6OswUAAAAAAWpbfzznu4ZTExtwGR5UUwa7iVh" data-size="invisible"></div>
<a class="primary_button cancel" href=".html">Cancel</a>
</div>
</div>
</form> <div id="status">
</div>
</div>
</div>
</div>
</div>
</div>
<script>
  $(window).load(function () {
    set_wrapper_responsive('');
  });
  function validate_form() {
    if (validate_password_form()) {
      grecaptcha.execute();
    } else {
      return false;
    }
  }
  var submit_parent_form = function () {
    $('#parent_signup_form').submit()
  };
  $('#user_mobile_code').change(function () {
    $('#user_mobile_number').val('');
  });
  $('#user_mobile_number').keyup(function (e) {
    if (e.keyCode == 8) {
      $(this).val('');
    }
    if ($('#user_mobile_code').val() == '+1') {
      $('#user_mobile_number').attr('maxlength', 14);
      var cleaned = ('' + $(this).val()).replace(/\D/g, '');
      var match = cleaned.match(/^(\d{1,3})(\d{0,3})(\d{0,4})$/);
      if (match) {
        if (match[1]) {
          $(this).val('(' + match[1] + ') ');
        }
        if (match[2]) {
          $(this).val('(' + match[1] + ') ' + match[2]);
        }
        if (match[3]) {
          $(this).val('(' + match[1] + ') ' + match[2] + '-' + match[3]);
        }
      }
      return null
    } else if($('#code').val() == '+86') {
      $('#user_mobile_number').attr('maxlength', 11);
    } else {
      $('#user_mobile_number').attr('maxlength', 10);
    }
  });
  // set password form validations
  function validate_current_password(id) {
    var inputEl = $('#' + id);
    var ival = inputEl.val();
    if (ival.length >= 1) {
      inputEl.closest('.pinput_container').find('.p_error').hide();
    }
  }
  function validate_new_password(id) {
    var inputEl = $('#' + id);
    var ival = inputEl.val();
    var lcasereg = /(?=.*[a-z])/;
    var ucasereg = /(?=.*[A-Z])/;
    var numreg = /(?=.*[0-9])/;
    // var scharreg = /(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~`])/; //all 32 characters
    var scharreg = /(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.\/?~`])/; //all 30 characters
    var count = 0;
    var maxCount = inputEl.closest('.pinput_wrapper').find('.guideline').length;
    if (ival.length >= 8) {
      inputEl.closest('.pinput_wrapper').find('.guideline.minimum8').addClass('active');
      count = count + 1;
    } else {
      inputEl.closest('.pinput_wrapper').find('.guideline.minimum8').removeClass('active');
    }
    if (lcasereg.test(ival)) {
      inputEl.closest('.pinput_wrapper').find('.guideline.lowercase').addClass('active');
      count = count + 1;
    } else {
      inputEl.closest('.pinput_wrapper').find('.guideline.lowercase').removeClass('active');
    }
    if (ucasereg.test(ival)) {
      inputEl.closest('.pinput_wrapper').find('.guideline.uppercase').addClass('active');
      count = count + 1;
    } else {
      inputEl.closest('.pinput_wrapper').find('.guideline.uppercase').removeClass('active');
    }
    if (numreg.test(ival)) {
      inputEl.closest('.pinput_wrapper').find('.guideline.number').addClass('active');
      count = count + 1;
    } else {
      inputEl.closest('.pinput_wrapper').find('.guideline.number').removeClass('active');
    }
    if (scharreg.test(ival)) {
      inputEl.closest('.pinput_wrapper').find('.guideline.specialchar').addClass('active');
      count = count + 1;
    } else {
      inputEl.closest('.pinput_wrapper').find('.guideline.specialchar').removeClass('active');
    }
    if (count == maxCount) {
      inputEl.css('border-color', 'rgba(0, 0, 0, 0.25)');
      inputEl.closest('.pinput_container').find('.icn_alert').hide();
      inputEl.closest('.pinput_container').find('.icn_visible').show();
      inputEl.closest('.pinput_container').find('.p_error').hide();
    }
  }
  function validate_confirm_password(id, pid) {
    var inputEl = $('#' + id);
    var ival = inputEl.val();
    if ((ival.length >= 6) && (ival == $('#' + pid).val())) {
      inputEl.closest('.pinput_wrapper').find('.input_status').addClass('active');
      inputEl.closest('.pinput_container').find('.p_error').hide();
    } else {
      inputEl.css('border-color', 'rgba(0, 0, 0, 0.25)');
      inputEl.closest('.pinput_container').find('.icn_alert').hide();
      inputEl.closest('.pinput_container').find('.icn_visible').show();
      inputEl.closest('.pinput_wrapper').find('.input_status').removeClass('active');
    }
  }
  function validate_password_form() {
    if (!($('#parent_signup_form')[0].reportValidity())) {
      return false;
    }
    var newP = $('#user_password');
    var confirmP = $('#user_password_confirmation');
    var noerror = true;
    var initial_color = 'rgba(0, 0, 0, 0.25)';
    var alert_color = '#ca2f3e';
    var guidelines = newP.closest('.pinput_wrapper').find('.guideline');
    var gflag = 0;
    var gcount = guidelines.length;
    var firstname = $('#user_first_name');
    var lastname = $('#user_last_name');
    var email = $('#user_email');
    var code = $('#user_mobile_code');
    var phone = $('#user_mobile_number');
    var phone_format_regex = new RegExp('^([0-9\-\(\) ]+)$');
    var code_format_regex = new RegExp('^([0-9\+]+)$');
    $('#email_exists').hide();
    $('#email_not_allowed').hide();
    email.closest('.input_container').find('.icn_alert').hide();
    email.css('border-color', initial_color);
    if (firstname.val().length == 0) {
      firstname.css('border-color', alert_color);
      firstname.closest('.input_container').find('.icn_alert').show();
      firstname.closest('.input_container').find('.p_error').show();
      noerror = false;
    } else {
      firstname.closest('.input_container').find('.icn_alert').hide();
      firstname.closest('.input_container').find('.p_error').hide();
      firstname.css('border-color', initial_color);
    }
    if (lastname.val().length == 0) {
      lastname.css('border-color', alert_color);
      lastname.closest('.input_container').find('.icn_alert').show();
      lastname.closest('.input_container').find('.p_error').show();
      noerror = false;
    } else {
      lastname.closest('.input_container').find('.p_error').hide();
      lastname.closest('.input_container').find('.icn_alert').hide();
      lastname.css('border-color', initial_color);
    }
    if (email.val().length == 0) {
      email.css('border-color', alert_color);
      email.closest('.input_container').find('.icn_alert').show();
      email.closest('.input_container').find('.p_error').show();
      noerror = false;
    } else {
      email.closest('.input_container').find('.p_error').hide();
      email.closest('.input_container').find('.icn_alert').hide();
      email.css('border-color', initial_color);
    }
    if (phone.val().length != 0) {
      if (!phone_format_regex.test(phone.val()) || !code_format_regex.test(code.val()) || phone.val().replace(/[^0-9]/g, "").length != 10) {
        code.css('border-color', alert_color);
        phone.css('border-color', alert_color);
        phone.closest('.input_container').find('.icn_alert').show();
        phone.closest('.input_container').find('.p_error').show();
        noerror = false;
      } else {
        phone.closest('.input_container').find('.p_error').hide();
        phone.closest('.input_container').find('.icn_alert').hide();
        phone.css('border-color', initial_color);
        code.css('border-color', initial_color);
      }
    }
    for (var i = 0; i < gcount; i++) {
      if (guidelines.eq(i).hasClass('active')) {
        gflag = gflag + 1;
      }
    }
    if (gflag == gcount) {
      newP.closest('.pinput_container').find('.p_error').hide();
      newP.closest('.pinput_container').find('.icn_alert').hide();
      newP.closest('.pinput_container').find('.icn_visible').show();
      newP.css('border-color', initial_color);
    } else {
      newP.closest('.pinput_container').find('.icn_visible').hide();
      newP.closest('.pinput_container').find('.p_error').show();
      newP.closest('.pinput_container').find('.icn_alert').show();
      newP.css('border-color', alert_color);
      noerror = false;
    }
    if (confirmP.val() != newP.val()) {
      confirmP.css('border-color', alert_color);
      confirmP.closest('.pinput_container').find('.p_error').show();
      confirmP.closest('.pinput_container').find('.icn_alert').show();
      noerror = false;
    } else {
      confirmP.css('border-color', initial_color);
      confirmP.closest('.pinput_container').find('.p_error').hide();
      confirmP.closest('.pinput_container').find('.icn_alert').hide();
    }
    return noerror;
  }
  $(document).on("turbolinks:load", function() {
    var alert_color = '#ca2f3e';
    var email = $('#user_email');
    if ($('#email_exists').html() && $('#email_exists').html().length != 0) {
      email.css('border-color', alert_color);
      email.closest('.input_container').find('.icn_alert').show();
      $('#email_exists').show();
    }
    if ($('#email_not_allowed').html() && $('#email_not_allowed').html().length != 0) {
      email.css('border-color', alert_color);
      email.closest('.input_container').find('.icn_alert').show();
      $('#email_not_allowed').show();
    }
  })
</script>
</div>
</div>
</body>
<script async="" crossorigin="anonymous" defer="" src="../js/platform.js"></script>
<script src="../js/appleid.auth.js" type="text/javascript"></script>
<script>
  function google_login() {
    google_init('signin')
  }
  function google_signup() {
    google_init()
  }
  function google_init(action) {
    var path = action == undefined ? 'signup' : 'signin';
    gapi.load('auth2', function() {
      gapi.auth2.authorize({
        client_id: '755247466062-s9jchtpia1p3b1bdcdggl3r1qs7b5kaq.apps.googleusercontent.com',
        cookie_policy: 'single_host_origin',
        scope: 'email profile',
        response_type: 'code'
      }, function(response) {
        if (response && !response.error) {
          let url = '/auth/google_oauth2/callback?perform=' + path + '&report_parent_uuid=&report_student_uuid=';
          // google authentication succeed, now post data to server.
          jQuery.ajax({
            type: 'GET',
            url: url,
            dataType: 'script',
            data: response,
            success: function(data) {}
          });
        } else {
          console.log(response)
        }
      });
    });
  }
  var apple_signin_popup;
  function apple_signin() {
      let url = 'https://appleid.apple.com/auth/authorize?client_id=org.colegia.signin&redirect_uri=https://colegia.org/auth/apple/callback&response_type=code id_token&state=origin:web&scope=name email&response_mode=web_message';
      apple_signin_popup=window.open(url,'apple_signin','height=660,width=600');
      if (window.focus) {apple_signin_popup.focus()}
      return false;
  }
  AppleID.auth.init({
      clientId : 'org.colegia.signin %>',
      scope : 'name email',
      redirectURI : 'https://colegia.org/auth/apple/callback',
      state : 'origin:web',
      usePopup : true
  });
  document.addEventListener('AppleIDSignInOnSuccess', (event) => {
      apple_signin_popup.close()
      let auth_info = event.detail.authorization;
      auth_info.user = JSON.stringify(event.detail.user);
      var path = 'signup';
      let url = '/auth/apple/callback?perform=' + path + '&report_parent_uuid=&report_student_uuid=';
      if (event.detail) {
          $.ajax({
              type: 'POST',
              url: url,
              data: auth_info,
              success: function(data) {}
          });
      } else {
          console.log(error, event)
      }
  });
  // Listen for authorization failures.
  document.addEventListener('AppleIDSignInOnFailure', (event) => {
      console.log('signin_failure', event.detail.error);
  });
</script>
</html>
